<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Message For My Love</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        canvas {
            background-color: transparent;
        }
    </style>
</head>
<body class="bg-fuchsia-100 flex flex-col items-center justify-center min-h-screen text-center p-4">

    <div class="apology-card bg-white rounded-3xl shadow-2xl p-8 max-w-lg w-full transform transition-all duration-500 ease-in-out hover:scale-105">
        <h1 class="text-4xl sm:text-5xl font-bold text-fuchsia-800 mb-4">AASTHA SINGH,</h1>
        <p class="text-xl text-fuchsia-700 mb-6">
            I'm so sorry. I hope you can feel how much I mean that.
        </p>

        <canvas id="heartCanvas" class="w-full h-auto mb-6"></canvas>

        <p class="text-lg text-fuchsia-600 mb-6">
            Please know that I value you and our relationship more than anything. I hope you can find it in your heart to forgive me.
        </p>

        <p class="text-fuchsia-900 font-bold text-2xl">I love you.</p>
    </div>

    <script>
        window.onload = function() {
            const canvas = document.getElementById('heartCanvas');
            const ctx = canvas.getContext('2d');
            let requestId;
            let heartPosition = { x: canvas.width / 2, y: canvas.height / 2 };
            const hearts = [];

            // A utility function to resize the canvas dynamically
            function resizeCanvas() {
                canvas.width = canvas.offsetWidth;
                canvas.height = Math.min(400, window.innerHeight * 0.5);
                if (requestId) {
                    cancelAnimationFrame(requestId);
                }
                requestId = requestAnimationFrame(draw);
            }
            
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            function drawHeart(x, y, size, alpha) {
                ctx.save();
                ctx.translate(x, y);
                ctx.scale(size, size);
                ctx.globalAlpha = alpha;
                ctx.fillStyle = `rgba(219, 39, 119, ${alpha})`; // fuchsia-700
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.bezierCurveTo(25, -25, 50, -10, 0, 40);
                ctx.bezierCurveTo(-50, -10, -25, -25, 0, 0);
                ctx.fill();
                ctx.restore();
            }

            function createHeart() {
                hearts.push({
                    x: Math.random() * canvas.width,
                    y: canvas.height,
                    size: Math.random() * 0.5 + 0.5,
                    speedY: Math.random() * 0.5 + 0.5,
                    alpha: 1
                });
            }

            function updateHearts() {
                for (let i = 0; i < hearts.length; i++) {
                    const heart = hearts[i];
                    heart.y -= heart.speedY;
                    heart.alpha -= 0.005;

                    if (heart.y < -50 || heart.alpha <= 0) {
                        hearts.splice(i, 1);
                        i--;
                    }
                }
            }

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                if (Math.random() > 0.95) {
                    createHeart();
                }

                updateHearts();

                hearts.forEach(heart => {
                    drawHeart(heart.x, heart.y, heart.size, heart.alpha);
                });

                requestId = requestAnimationFrame(draw);
            }

            // Start the animation loop
            draw();
        };
    </script>
</body>
</html>